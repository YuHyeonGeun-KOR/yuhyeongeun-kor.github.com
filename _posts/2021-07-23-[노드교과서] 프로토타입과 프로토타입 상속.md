---
title:  "[Nods.js 교과서] 프로토타입과 프로토타입 상속"
excerpt: "프로토타입, 상속"

categories:
  - node.js
tags:
  - [자바스크립트,javascript,node.js]
  
toc: true
toc_sticky: true
 
date: 2021-07-23
last_modified_at: 2021-07-23
---

# 프로토타입
- 개발을 하다 보면 기존에 있는 기능을 가져와 확장해야 하는 경우가 생긴다. 
- 기존에 존해나는 객체와 매우 유사하지만 약간의 차이가 있는 개체를 만들때 기존의 있는 객체에 기능을 얹어 새로 객체를 만들려고 할 때

## 자바스크립트의 객체는 프로토타입이라는 숨김프로퍼티를 갖는다. 
- 이 숨김 프로티는 null이거나 다른 객체에 대한 참조가 된다. 
- 다른 객체를 참조하는 경우에 참조 대상을 프로토타입이라고 부른다. 
- 동작 방식 : 객체에서 프로퍼티를 읽으려고 할때 해당 프로퍼티가 없으면 자동으로 프로토타입에서 프로퍼티는 찾는다. 
(상속에 기반하여 만들어 졌기 때문에)
- "__proto\__"는 [[Prototype]]의 getter이자 setter이다. 
- 위처럼 프로토타입에서 상속받은 프로퍼티를 상속 프로퍼티라고 합니다. 
- 프로토 타입 체이닝 시에 순환참조는 허용되지 않고, 객체나 null 이외의 자료형은 무시된다. 

# for...in 반복문 
- for ...in은 상속 프로퍼티도 순회대상에 포함된다. 
- 상속프로퍼티는 순회 대상에서 제회시켜로 할때는 ahsOwnproperty를 이용하면된다.

### 과제
``` javascript
let head = {
    glasses: 1
};

let table = {
    pen: 3,
    __poroto__ : head
};

let bed = {
    sheet: 1,
    pillow: 2,
    __poroto__ : table
};

let pockets = {
    money: 2000,
    __poroto__ : bed
};

```
위의 코드에서 head에서 바로 galsses를 가져오는것과 프로토타입을 통해서 프로퍼티를 가져오는것에 성능적인 차이가 없다. 
모던엔진은 프로퍼티가 어디서 발견됐는지 기억하고 있다가 다음 요청 시 이 정보를 재사용 하기 때문이다. 

# 함수의 프로토타입 프로퍼티 
- new F()으로 생성자 함수를 통한 새로운 객체 생성
- F.prototype이 객체라면? : new 연산자는 F.prototype을 사용해서 새롭게 생성된 객체의 프로토타입을 설정 

- constructor 프로퍼티를 사용하여 기존에 있던 객체의 constructor를 사용해 새로운 객체를 만들 수 있다. 
- 특별한 조작을 하지 않는다면 객체 생성시에 기본 프로토타입은 constructor를 가리키게 된다. 
- 만약 원래의 constructor를 보존하고 싶다면 전체를 덮어 쓰지 말고 원하는 프로퍼티를 추가/제거 하는 것이 좋다. 

- delete 연산은 객체에 직접 적용된다. 
- 객체는 참조에 의해 할당된다. 

# 네이비트 프로토타입
- obj = {};
- alert(obj); 를 실행하면 [object Object]가 출력된다. 
1.  obj = new Object() 을 줄이면 obj = {}
2. 여기서 Object는 내장 객체 생성자 함수인데 이 생성자 함수의 prototype은 다양한 메서드가 구현되어있다. 
