---
title:  "인터페이스"
excerpt: "객체지향 프로그래밍에 대하여"
categories:
  - Java
tags:
  - [JAVA, JAVA의 정석]

toc: true
toc_sticky: true
 
date: 2021-12-01
last_modified_at: 2021-12-01
---

# 인터페이스 
- 인터페이스도 일종의 추상클래스다. 
- 추상화 정도가 높아서 추상클래스와 달리 몸통을 갖춘 일반 메서드 또는 멤버변수를 구성원을 가질 수 없다. 
- 모든 멤버변수는 public static final이어야 하며 이를 생략할 수 있다. 
- 모든 메서드는 public abstract이어야 하며 이를 생략 할 수 있다. (단 jdk 1.8qnxj static 과 디폴트는 제외)

## 인터페이스 상속 
- 인터페이스는 인터페이스로부터만 상속이 가능하다. 
- 인턴페이스는 다중상속이 가능하다. 
- 인터페이스도 마창가지로 그 자체로는 인스턴스를 생성할 수 없다. 
- 몸통을 만들어주는 클래스를 작성할 때 클래스는 확장한다는 의미로 extends를 사용하지만 인터페이스는 구현한다는 의미로 implements를 사용한다. 
- 만약 인터페이스의 메서드중 일부만 구현한다면 해당 클래스를 추상 클래스로 선언해야 한다. 
- 상속과 구현을 동시에 할 수 도 있다. 

## 인터페이스의 장점 
1. 개발시간을 단축시킬 수 있다.  
인터페이스가 작성되면 이를 사용해서 프로그램을 장석하는 것이 가능하다.  
동시에 다른 한쪽에서는 인터페이스르 구현하는 클래스를 작성하게 되면 인터페이스를 구현하는 클래스가 작성될 떄까지 기다리지 않고도 양쪽에서 동시에 개발을 진행 할 수 있다. 
2. 표준화가 가능하다.   
프로젝ㄱ트에 사용되는 기본 틀을 인터페이스로 작성한 후 개발자들에게 구현하게 함으로써 일관되고 정형화된 프로그램의 개발이 가능하다. 
3. 서로 관계없는 클래스들에게 관계를 맺어 줄 수 있다.  
서로 상속관계에 있지도 않고 같은 조상 클래스를 가지고 있지 않은 서로 관계없는 클래스들에게 하나의 인터페이스를 공통적으로 구현하도록 함으로써 관계를 맺어 줄 수 있다. 
4. 독립적인 프로그래밍이 가능하다.  
클래스의 선언과 구현을 분리시킬 수 있기 때문에 실제 구현에 독립적인 프로그램을 작성하는 것이 가능하다. 

예를들어 특정 데이터베이스를 사용할 때 필요한 클래스를 사용해서 프로그램을 작성했다고 가정하자.  
이떄 다른 종류의 데이터베이스를 사용하기 위해서는 모두 변경해야 할 수 있다.
하지만 데이터베이스 관련 인터페이스를정의하고 이를 이용해서 프로그램을 작성하면 데이터베이스의 종류가 변경되더라도 프로그램을 변경하지 않도록 할 수 있다. 

# 인터페이스의 이해
## 인터페이스를 이해하기 위해서 염두해 두어야 하는 두가지 
- 클래스를 사용하는 쪽과 클래스를 제공하는 쪽이 있다. 
- 메서드를 사용하는 쪽에서는 사용하려는 메더스의 선언부만 알면된다. 

만약 클래스1이 클래스2의 인스턴스를 생성하고 메서드를 호출한다고 했을 때 클래스 1을 작성하기 위해서는 클래스 2가 작성되어 있어야 한다. 만약 둘중하나가 변경되면 다른 한쪽도 변경되어야 한다는 단점이있다. 

하지만 클래스 1이 클래스 2를 직접 호출하지 않고 인터페이스를 매개체로 메서드에 접근하도록하면 클래스 1이 영향을 받지 않게 구성할 수 있다. 

- 쓰레드의 생성자가 클래스 1이 인터페이스를 구현한 클래스의 인스턴스를 동적으로 제공받게 동작한다. 
- jdbc의 드라이버매니저 클래스는 제 3의 클래스를 통해서 제공받을 수 있게 동작한다. 

# 디폴트 메서드와 스태틱 메서드 입니다. 
원래는 인터페이스에 추상 메서드만 선언할 수 있었는데 jdk1.8 부터 디폴트 메서드과 스태틱 메서드도 추가할 수 있게 되었다. 
- 초기에는 규칙을 단순화 하기 위해서 인터페이스의 모든 메서드는 추상 메서드여야 했다. 
- 이러한 이유로 인터페이스와 관련된 스태틱 메서드는 별도의 클래스에 따로 두어야 했다. 


## 디폴트 메서드 
조상 클래스에 새로운 메서드를 추가하는 것은 별 일이 아니다.  
하지만 인터페이스에 메서드를 추가하는 것은 관련 모든 클래스들이 새로 추가된 메서드를 구현해야 한다. 
- 따라서 이러한 추후에 발생할 인터페이스의 변경에서 디폴트 메서드를 사용하면 추상메서드가 아니기 때문에 메서드가 추가되어도 인터페이스를 구현한 클래스를 변경하지 않아도 된다. 
만약 새로 추가한 디폴트 메서드의 이름이 기존의 메서드와 동일했을 때 충돌을 해결하는 규칙은 아래와 같다. 
1. 여러 인터페이스의 디폴트 메서드간의 충돌 : 인터페이스를 구현한 클래스에서 디폴트 메서드를 오버라이딩 해야한다.
2. 디폴트 메서드와 조상 클래스의 메서드간의 충돌 : 조상클래스의 메서드가 상속되고 디폴트 메서드는 충돌된다. 

--> 정리 필요한 쪽의 메서드와 같은 내용으로 오버라이딩 해버린다. 