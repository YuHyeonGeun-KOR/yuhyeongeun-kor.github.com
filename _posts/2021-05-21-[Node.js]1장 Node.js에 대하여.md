---
title:  "1장 Node.js에 대하여"
excerpt: "Node.js 시작하기"

categories:
  - Node.js
tags:
  - [code,Node.js]

toc: true
toc_sticky: true
 
date: 2021-05-12
last_modified_at: 2021-05-12
---

# Node.js 핵심개념 이해하기
## Node.js

-크롬 V8 자바스크립트 엔진으로 빌드된 자바스크립트 런타임<br>
-이벤트 기반 , 논블로킹 I/O모델로 가볍고 효율적이다.    
<br>

## 서버란?<br>
-네트워크를 통해 클라이언트에 정보나 서비스를 제공하는 컴퓨터 또는 프로그램
<br>
-클라이언트 : 요청을 보내느 주체

-> Node는 자바스크립트 애플리케이션이 서버로서 기능하기 위한 도그를 제공한다 . 따라서 서버역할을 수행할 수 있다. <br><br>


## 이벤트 기반
-> 이벤트가 발생할 때 미리 지정해둔 작업을 수행하는 방식 <br><br>
이벤트 기반 시스템에서는 특정 이벤트가 발생할때 무엇을 할지 미리 등록을 해두어야 합니다. <br>
이것을 이벤트 리스터, 콜백함수를 등록한다고 합니다. <br>
이벤트를 전부 터리하면 다음 이벤트가 발생할 때까지 대기합니다. 
<br>

### 이벤트 루프<br>
노드는 자바스크립트 코드에서 맨위에서 부터 한 줄씩 실행합니다. 만약 함수 호출 부분을 발견했다면 호출한 함수를 호출 스택에 넣습니다. <br>
함수 실행이 완료되면 호출 스택에서 지우고 모두 완료되면 호출 스택은 비어있게됩니다.<br>
기봊넞긍로 전역 컨텍스트 안에서 돌아간다고 생각하였습니다.<br>


```javascript
function run() {
console.log('3초 후 실행');
}
console.log('시작');
setTimeout(run, 3000);
console.log('끝');
```
만약 위와 같은 코드가 작성되었다면 ?<br>
결과는<br> 
시작<br>
끝<br>
3초 후 실행<br>
순으로 예상할 순 있지만 이를 호출스택으로 설명하기 위해서는 <br>
    - 이벤트 루프 <br>
    - 태스크 큐<br>
    - 백그라운드<br>
위의 3가지를 알아야 합니다. 

### 이벤트 루프 <br>
이벤트 할생 시 호출할 콜백 함수들을 관리

### 태스크큐 <br>
이벤트 발생 후 호출되어야 할 콜백함수

### 백그라운드 <br>
타이머나 I/O 작업 콜백 또는 이벤트 리스너들이 대기하
는 곳입니다

## 논블로킹 방식이란?
오래 걸리는 함수를 백그라운드로 보내서 다음 코드가 먼저 실행되게
하고, 그 함수가 다시 태스크 큐를 거쳐 호출 스택으로 올라오기를 기다리
는 방식입니다.
``` javascript
setTimeout(콜백, 0)
```
논블로킹으로 만들기 위해 사용하는 기법 중 하
나입니다.(브라우저와 노드사이에 지연시간을 이용)

<br>

## 싱글 스레드 와 논블로킹 모델
노드 프로세스도 내부적으로는 스레드를 여러 개 가지고 있습니다. 하
지만 직접 제어할 수 있는 스레드는 하나뿐이므로 흔히 싱글 스레
드라고 부르는 것입니다.
<br>
노드는 스레드를 늘리는 대신, 프로세스 자체를 복사해 여러 작업을 동시에
처리하는 멀티 프로세싱 방식을 택했습니다

## 서버로서의 노드<br>
- 노드 서버는 I/O가 많은 작업에 적합합니다.<br>
- 하지만 CPU 부하가
큰 작업에는 적합하지 않습니다<br>
- 하나뿐인 스레드가 에러로 인해 멈추지 않도
록 잘 관리해야 합니다<br>
- 웹 브라우저도 자바스크립트를 사용하므로 서버까지 노드를
사용하면 하나의 언어로 웹 사이트를 개발할 수 있습니다. <br>
- JSON이 자바스
크립트 형식이어서 노드에서는 쉽게 처리할 수 있습니다.
- 개수는 많지만 크기는 작은 데이터를 실시간으로 주고 받는 데 적합합니다
- 이미지나
비디오 처리, 대규모 데이터 처리 같이 CPU를 많이 사용하는 작업을 위한
서버로는 권장하지 않습니다.
## 